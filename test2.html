<!DOCTYPE html>
<html>
<head>
<script>
	var url = window.location.href;
	function addItemToCart(word) {
		var array = document.getElementsByTagName("a");
		if (checkItem1()) {
			for(i=0; i<array.length; i++){
				var a = array[i];
				a.href = a.href + "?item1=" + word +"&";
			}
			url = url + "?item1=" + word +"&";
			alert("Added " + word + " to cart.");
			document.getElementById("cart").innerHTML = document.getElementById("cart").innerHTML + " " + word + ",";
		}
		else if (checkItem2()) {
			for(j=0; j<array.length; j++){
				var b = array[j];
				b.href = b.href + "item2=" + word +"&";
			}
			url = url + "item2=" + word +"&";
			alert("Added " + word + " to cart.");
			document.getElementById("cart").innerHTML = document.getElementById("cart").innerHTML + " " + word + ",";
		}
		else if (checkItem3()) {
			for(k=0; k<array.length; k++){
				var c = array[k];
				c.href = c.href + "item3=" + word +"&";
			}
			url = url + "item3=" + word +"&";
			alert("Added " + word + " to cart.");
			document.getElementById("cart").innerHTML = document.getElementById("cart").innerHTML + " " + word;
		}
		else {
			alert("You can only add 3 items to cart.")
		}	
	}
	function checkItem1() {
		return url.indexOf("item1")==-1;
	}
	function checkItem2() {
		return url.indexOf("item2")==-1;
	}
	function checkItem3() {
		return url.indexOf("item3")==-1;
	}
	function getURLParameter(name) {
		return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [null, ''])[1].replace(/\+/g, '%20')) || null;
	}
	function setDataToLinks() {
		var item1 = getURLParameter('item1');
		var item2 = getURLParameter('item2');
		var item3 = getURLParameter('item3');
		var array = document.getElementsByTagName("a");
		for(i=0; i<array.length; i++){
			var a = array[i];
			if(item1!=null && item2!=null && item3!=null){
				a.href = a.href + "?" + "item1=" + item1 + "&" + "item2=" + item2 + "&" + "item3=" + item3;
			}
			if(item1!=null && item2!=null && item3==null){
				a.href = a.href + "?" + "item1=" + item1 + "&" + "item2=" + item2 + "&";
			}
			if(item1!=null && item2==null && item3==null){
				a.href = a.href + "?" + "item1=" + item1 + "&";
			}
		}
	}
</script>
</head>
<body>

<p id="cart"></p>
<p onclick = "addItemToCart('Large White Mountain')">Click me to add a Large White Mountain shirt to cart</p>
<p onclick = "clearCart('cart')">Clear Cart</p>
<a class = "link" href = "test.html">Go on other page</a>

<script>
	setDataToID("cart");
	function getURLParameter(name) {
		return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [null, ''])[1].replace(/\+/g, '%20')) || null;
	}
	function setDataToID(word) {
		var item1 = getURLParameter('item1');
		var item2 = getURLParameter('item2');
		var item3 = getURLParameter('item3');
	
		if(item1!=null && item2!=null && item3!=null){
			document.getElementById(word).innerHTML ="Cart: " + item1 + ", " + item2 + ", " + item3;
		}
		if(item1!=null && item2!=null && item3==null){
			document.getElementById(word).innerHTML ="Cart: " + item1 + ", " + item2;
		}
		if(item1!=null && item2==null && item3==null){
			document.getElementById(word).innerHTML ="Cart: " + item1;
		}
		
	}
	function getOrigLinks() {
		var arr = document.getElementsByTagName("a");
		var origLinks= Array(arr.length);
		for(i=0; i<arr.length; i++){
			origLinks[i] = arr[i]+" ";
			
		}
		return origLinks;
	}
	var originalLinks = getOrigLinks();
	function clearCart(word){
		var arr = document.getElementsByTagName("a");
		for(i=0; i<arr.length; i++){
			var a = arr[i];
			a.href = originalLinks[i];
		}
		url = "";
		alert("Cart Cleared");
		document.getElementById(word).innerHTML ="";
	}
setDataToLinks();
</script>

</body>
</html>


